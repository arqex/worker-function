!function(o,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():o.WorkerFunction=e()}(this,function(){function o(o){return function(){var n=Array.prototype.slice.call(arguments,0);return new Promise(function(t,a){var l=new e("var uf = "+o.toString()+";\n"+("var w = "+r.toString()+";\nw();"));l.onmessage=function(o){t(o.data)},l.onerror=function(o){a(o)},l.postMessage(n)})}}function e(o){if(n)return new global.Worker(global.URL.createObjectURL(new global.Blob([o],{type:"text/javascript"})));throw Error("WorkerFunction: Your browser do not support web workers.")}var n=!!(global===global.window&&global.URL&&global.Blob&&global.Worker),r=function(){var o=function(o){self.postMessage(o),self.close()};self.onmessage=function(e){var n=e.data.slice();n.push(o),uf.apply(self,n)}};return module.exports=o,o});